# EOSFORCE主网改进提案 FIP #7

提案人：Jeepool 九州资本 开发团队

EOSFORCE.IO基于EOSIO不同的治理理念诞生已经稳定运行一年，EOSFORCE.IO的治理在实践中得到了社区逐步的认可。
作为全球首个大规模进行Staking Economy实践的网络，EOSFORCE.IO率先遇到了一些系统模型和社区治理相关问题。
本提案将在目前网络运行和社区治理的基础上提出改进方案，供社区讨论和超级节点议会表决。

## 概念界定

- BP：指出块节点，或超级节点。即基于加权票数排名的前23名节点。
- 收益节点：能够获取网络投票收益的注册节点。
- 活期投票：用户参与网络投票无固定周期。
- 定期投票：用户选择不同投票时间周期投票。
- 加权票数：按照活期投票和定期投票对应不同权重计算之后的票数。

> 备注：提案中出现的时间周期均为链上对应的块高度。为了便于理解，文中用时间周期来表示。

## 一、调整通胀率

通胀率调整为上一年总量的**20％**。

## 二、调整投票票数权重—让链上长期投资者得到更多票权

用户参与EOSFORCE主网投票可以选择定期投票和活期投票。

**定期投票**：

用户选择不同投票时间周期投票。时间周期分别为3个月、6个月、12个月和24个月对应的块高度。定期投票期间代币处于锁定状态，到期可以解锁。
时间为3个月、6个月、12个月，24个月分别对应1、2、4、8不同的权重，定期投票分红随时可以领取，定期投票到期后票数权重清零。

**活期投票**：

用户参与投票无固定周期，投票代币可以随时选择赎回，赎回需要3天时间块高度解锁。活期票数权重为0.2。

备注：

- 定期的分红可以随时领取和复投，但是本金无法在定期结束之前释放。
- 定期换投票和活期投票可以随时切换节点，只需支付系统本身的操作手续费。
- 活期和定期投票赎回投票仍然需要72小时块高度赎回期。
- 若本提案执行，对于正在赎回的投票需要一个过渡期，建议3天以后执行升级再生效。

## 三、节点出块奖励和惩罚机制—激励节点长期维护网络稳定

### 3.1 节点分红

EOSFORCE主网节点分为BP节点和收益节点。为了降低节点门槛，更多人加入主网治理，调整节点分红如下：

- 1．区块奖励的10％由出块节点按出块数占比分发。
- 2．区块奖励的10%由所有收益节点奖励按照投票加权票数占比分发。
- 3．区块奖励的50％节点可以自由调整分红比例。
- 4．区块奖励的30％进入去中心化预算系统。

### 3.2 出块节点奖励

即生产区块节点的奖励，设定为区块奖励的10%，按照节点的出块币龄（连续出块时间）作为权重来分配出块奖励。

### 3.3 出块节点稳定度

初始为0，每个周期207个块不漏块加1。最大为4800,达到4800不再继续增加。如果有漏块情况重置为0。

这里设:

在$C_j$周期内, 区块$j$的奖励为$R_j$, 周期的出块数为$N_j$,

设:

- 出块节点稳定度权重集 $U=[U_1, U_2, ... , U_n]$
- 出块节点出块集 $O=[O_1, O_2, ... , O_n]$

有：

- 对于单个出块节点，出块算力为: $P_j$ = $O_j$($U_j$+1000)
- 对于链上总出块算力为: $P_s$ = $∑_{k∈n}R_k$
- 对于链上总出块分红为: $R_s$ = $R_j$$N_j$ * 5%
- 则单个出块节点的出块分红是: $R_n$ = $R_s$ * $P_n$ / $P_s$

稳定和出块分红权重相关。如果连续稳定出块则权重高，在出相同块的情况下，稳定度高节点分红高。

### 3.4 奖励领取

出块奖励和投票手续费奖励，至少100个EOSC可提取。

备注：出块奖励和投票手续费奖励是两个奖励池。为了降低收益节点门槛，让更多人可以参与。

### 3.5 出块节点押金

出块节点需要抵押一部分系统代币作为押金，如果押金低于最低值，则没有出块奖励，并且没有投票手续费奖励，投给该节点的用户也没有投票奖励。

备注：节点押金的最低值是单个出块节点24小时的出块奖励的2倍，即社区决议处理不出块节点的时间。

这里设：

- 节点每个块的节点分红 $R$
- 不漏块情况下每天的出块个数 $N$
- 最低押金 $P$
- 链上出块节点的个数 $S$

有：
    $P$ = $R$ * $N$ * 2 / $S$

### 3.6 漏块节点惩罚

出块节点漏块将扣除押金，每少生产一个区块将扣除该区块奖励的2倍押金(10.0000 EOSC)。

在节点连续漏块超过9个块，任何人可以发起多签提议惩罚踢出节点，未出块扣除的罚金由提议多签惩罚漏块节点的用户和同意多签的前16名出块节点平分（发起方50%同意多签50%）。提议多签惩罚需要抵押100 EOSC代币，提议需在28800个块高度内完成多签，否则视为无效。

被踢出后出块节点进入为期1天(28800个块高度)的观察期，此期间用户投票无挖矿奖励，节点也无任何奖励，节点无法竞选出块节点。观察期过后BP可申请恢复正常,再进入正常选举,产生正常投票挖矿收益。
> 备注：罚金部分先进入罚金池，若提案签名未通过则罚金累积，若节点被提议多签惩罚成功，则分配该节点所有积累罚金。

## 四、收益节点奖励机制

### 4.1 收益节点门槛

如果节点的总投票数超过单个出块节点24小时出块的区块奖励的2倍，这个节点就可以成为收益节点

### 4.2 收益节点获取收益的条件

+ 收益节点需要像出块节点一样缴纳押金，押金的最低值是单个节点24小时的出块奖励的2倍
+ 收益节点需要有心跳，链上需要感知到收益节点连接再链上。

### 4.3 收益节点的收益

+ 收益节点有节点收益，对应节点分红的第二项。
+ 收益节点有投票的投票手续费奖励。

## 五、建立去中心化预算系统—支持生态发展

- 1.建立链上去中心化预算系统，任何人都可以发起申请预算提案。通胀发行的30％进入预算系统，不做总量限制。去中心化预算系统有单独的账户权限，账户权限归系统所有。审批权归管理委员会所有。
- 2.提案人发起提案需要抵押100个EOSC作为押金，防止垃圾提案，押金在提案通过后退回。
- 3.提案人需要详细说明提案目标，实施细则（周期、成本、金额）以及提案将带来的回报。
- 4.提案获得管理委员会批准后，将有14天的公示期，公示期内大于三分之一超级节点反对，即可否决提案。若提案在公示期没有被否决，在公示期后，系统将自动将申请奖励按月份发放到申请人账户。奖励发放期间，管理委员会和超级节点大于三分之一否决，可以叫停该提案奖励发放。
- 5.提案通过公示期后，提案人在下一个区块奖励中，会按月份开始获得申请的EOSC代币来执行自己的提案内容。

## 六、设立《EOSFORCE主网管理委员会》机制—更专业和高效的去中心化组织激励整个链的发展

EOSFORCE主网管理委员会旨在管理审批去中心化预算系统提案，监督提案人执行情况，促进去中心化预算系统更加合理公平的分配。以下简称管理委员会。

- 1.管理委员会初始成员5个席位，之后每半年增补2个席位，最高不超过23人。
- 2.任何个人和组织都可以参与管理委员会成员竞选。管理委员会成员由超级节点投票依据投票排名的前5位选举组成。
- 3.管理委员会拥有去中心化预算系统的审批权，并不拥有所有权，所有权归系统所有。

备注：

- 1.每届管理委员会任期为半年，每人最多可连任两届。
- 2.所有的提案都需要经过管理委员会大于2/3的同意方可生效。
- 3.管理委员会设立弹劾机制，任何人可发起弹劾，大于1/3超级节点投票通过均可弹劾议员，议员被弹劾后由依据排名增补。
- 4.管理委员会的选举标准由超级节点制定。
- 5.所有通过的提案费用的5%自动进入管理委员会的工资账户，作为管理委员会成员的工资。

--------------------

以上方案仅为建议,最终结果仍待EOSFORCE主网超级节点议会投票表决来确定。
